const h=document.getElementById("particle-canvas"),t=h.getContext("2d");let g=window.innerWidth,u=window.innerHeight;const i=[],p=50;let f=0,x=0;function v(){g=window.innerWidth,u=window.innerHeight,h.width=g,h.height=u}function E(){if(t.fillStyle="rgba(10, 10, 15, 0.15)",t.fillRect(0,0,g,u),!(i.length<2)){t.lineCap="round",t.lineJoin="round";for(let e=1;e<i.length;e++){const n=i[e-1],o=i[e],l=e/i.length,a=l*.6*(1-o.age/60),r=l*8+2;if(a<=0)continue;const s=75+l*30;t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(o.x,o.y),t.strokeStyle=`hsla(${s}, 70%, 55%, ${a})`,t.lineWidth=r,t.stroke(),t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(o.x,o.y),t.strokeStyle=`hsla(${s}, 80%, 60%, ${a*.3})`,t.lineWidth=r*3,t.filter="blur(8px)",t.stroke(),t.filter="none"}if(i.length>0){const e=i[i.length-1],n=t.createRadialGradient(e.x,e.y,0,e.x,e.y,40);n.addColorStop(0,"hsla(90, 70%, 60%, 0.4)"),n.addColorStop(.5,"hsla(90, 70%, 50%, 0.1)"),n.addColorStop(1,"hsla(90, 70%, 40%, 0)"),t.beginPath(),t.arc(e.x,e.y,40,0,Math.PI*2),t.fillStyle=n,t.fill()}}}function b(){for(let e=i.length-1;e>=0;e--)i[e].age++,i[e].age>60&&i.splice(e,1);E(),requestAnimationFrame(b)}function S(e){const n=e.clientX-f,o=e.clientY-x;Math.sqrt(n*n+o*o)>3&&(i.push({x:e.clientX,y:e.clientY,age:0}),i.length>p&&i.shift(),f=e.clientX,x=e.clientY)}window.addEventListener("resize",v);window.addEventListener("mousemove",S);v();b();const L=document.getElementById("hero-bg"),w=L?.querySelector(".hero-image");if(w){let e=function(){l+=(n-l)*.03,a+=(o-a)*.03,w.style.transform=`scale(1.15) translate(${l}px, ${a}px)`,requestAnimationFrame(e)},n=0,o=0,l=0,a=0;document.addEventListener("mousemove",r=>{const s=window.innerWidth/2,y=window.innerHeight/2;n=(r.clientX-s)/s*20,o=(r.clientY-y)/y*20}),e()}const k=document.querySelectorAll(".gallery-item"),c=document.getElementById("lightbox"),d=c?.querySelector(".lightbox-image"),q=c?.querySelector(".lightbox-close");k.forEach(e=>{e.addEventListener("click",()=>{const n=e.querySelector("img");d&&c&&(d.src=n.src,d.alt=n.alt,c.classList.add("active"),document.body.style.overflow="hidden")})});function m(){c?.classList.remove("active"),document.body.style.overflow=""}q?.addEventListener("click",m);c?.addEventListener("click",e=>{e.target===c&&m()});document.addEventListener("keydown",e=>{e.key==="Escape"&&m()});
